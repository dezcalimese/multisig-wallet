{"ast":null,"code":"import _regeneratorRuntime from\"/Users/benzo/multisig-wallet/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/benzo/multisig-wallet/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/benzo/multisig-wallet/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{getWeb3,getWallet}from'./utils.js';import Header from'./Header.js';import NewTransfer from'./NewTransfer.js';import TransferList from'./TransferList.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),web3=_useState2[0],setWeb3=_useState2[1];var _useState3=useState(undefined),_useState4=_slicedToArray(_useState3,2),accounts=_useState4[0],setAccounts=_useState4[1];var _useState5=useState(undefined),_useState6=_slicedToArray(_useState5,2),wallet=_useState6[0],setWallet=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),approvers=_useState8[0],setApprovers=_useState8[1];var _useState9=useState(undefined),_useState10=_slicedToArray(_useState9,2),quorum=_useState10[0],setQuorum=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),transfers=_useState12[0],setTransfers=_useState12[1];useEffect(function(){var init=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var web3,accounts,wallet,approvers,quorum,transfers;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getWeb3();case 2:web3=_context.sent;_context.next=5;return web3.eth.getAccounts();case 5:accounts=_context.sent;_context.next=8;return getWallet(web3);case 8:wallet=_context.sent;_context.next=11;return wallet.methods.getApprovers().call();case 11:approvers=_context.sent;_context.next=14;return wallet.methods.quorum().call();case 14:quorum=_context.sent;_context.next=17;return wallet.methods.getTransfers().call();case 17:transfers=_context.sent;setWeb3(web3);setAccounts(accounts);setWallet(wallet);setApprovers(approvers);setQuorum(quorum);setTransfers(transfers);case 24:case\"end\":return _context.stop();}}},_callee);}));return function init(){return _ref.apply(this,arguments);};}();init();},[]);var createTransfer=function createTransfer(transfer){wallet.methods.createTransfer(transfer.amount,transfer.to).send({from:accounts[0]});};var approveTransfer=function approveTransfer(transferId){wallet.methods.approveTransfer(transferId).send({from:accounts[0]});};if(typeof web3==='undefined'||typeof accounts==='undefined'||typeof wallet==='undefined'||approvers.length===0||typeof quorum==='undefined'){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[\"Multisig Dapp\",/*#__PURE__*/_jsx(Header,{approvers:approvers,quorum:quorum}),/*#__PURE__*/_jsx(NewTransfer,{createTransfer:createTransfer}),/*#__PURE__*/_jsx(TransferList,{transfers:transfers,approveTransfer:approveTransfer})]});}export default App;","map":{"version":3,"sources":["/Users/benzo/multisig-wallet/client/src/App.js"],"names":["React","useEffect","useState","getWeb3","getWallet","Header","NewTransfer","TransferList","App","undefined","web3","setWeb3","accounts","setAccounts","wallet","setWallet","approvers","setApprovers","quorum","setQuorum","transfers","setTransfers","init","eth","getAccounts","methods","getApprovers","call","getTransfers","createTransfer","transfer","amount","to","send","from","approveTransfer","transferId","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { getWeb3, getWallet } from './utils.js';\nimport Header from './Header.js';\nimport NewTransfer from './NewTransfer.js';\nimport TransferList from './TransferList.js';\n\nfunction App() {\n  const [web3, setWeb3] = useState(undefined);\n  const [accounts, setAccounts] = useState(undefined);\n  const [wallet, setWallet] = useState(undefined);\n  const [approvers, setApprovers] = useState([]);\n  const [quorum, setQuorum] = useState(undefined);\n  const [transfers, setTransfers] = useState([]);\n\n  useEffect(() => {\n    const init = async () => {\n      const web3 = await getWeb3();\n      const accounts = await web3.eth.getAccounts();\n      const wallet = await getWallet(web3);\n      const approvers = await wallet.methods.getApprovers().call();\n      const quorum = await wallet.methods.quorum().call();\n      const transfers = await wallet.methods.getTransfers().call();\n      setWeb3(web3);\n      setAccounts(accounts);\n      setWallet(wallet);\n      setApprovers(approvers);\n      setQuorum(quorum);\n      setTransfers(transfers);\n    };\n    init();\n  }, []);\n\n  const createTransfer = transfer => {\n    wallet.methods\n      .createTransfer(transfer.amount, transfer.to)\n      .send({from: accounts[0]});\n  }\n\n  const approveTransfer = transferId => {\n    wallet.methods\n      .approveTransfer(transferId)\n      .send({from: accounts[0]});\n  }\n\n  if(\n    typeof web3 === 'undefined'\n    || typeof accounts === 'undefined'\n    || typeof wallet === 'undefined'\n    || approvers.length === 0\n    || typeof quorum === 'undefined'\n  ) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div>\n        Multisig Dapp\n        <Header approvers={approvers} quorum={quorum} />\n        <NewTransfer createTransfer={createTransfer} />\n        <TransferList transfers={transfers} approveTransfer={approveTransfer} />\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}